webpackJsonp([26],{y1am:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{visible:!1,dataForm:{id:0,activityid:"",userid:"",prizesid:"",hittime:""},dataRule:{activityid:[{required:!0,message:"活动不能为空",trigger:"blur"}],userid:[{required:!0,message:"用户不能为空",trigger:"blur"}],prizesid:[{required:!0,message:"奖品不能为空",trigger:"blur"}],hittime:[{required:!0,message:"中奖时间不能为空",trigger:"blur"}]}}},methods:{init:function(t){var e=this;this.dataForm.id=t||0,this.visible=!0,this.$nextTick(function(){e.$refs.dataForm.resetFields(),e.dataForm.id&&e.$http({url:e.$http.adornUrl("/rain/userhit/info/"+e.dataForm.id),method:"get",params:e.$http.adornParams()}).then(function(t){var i=t.data;i&&0===i.code&&(e.dataForm.activityid=i.userHit.activityid,e.dataForm.userid=i.userHit.userid,e.dataForm.prizesid=i.userHit.prizesid,e.dataForm.hittime=i.userHit.hittime)})})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/rain/userhit/"+(t.dataForm.id?"update":"save")),method:"post",data:t.$http.adornData({id:t.dataForm.id||void 0,activityid:t.dataForm.activityid,userid:t.dataForm.userid,prizesid:t.dataForm.prizesid,hittime:t.dataForm.hittime})}).then(function(e){var i=e.data;i&&0===i.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(i.msg)})})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[i("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.dataFormSubmit()}}},[i("el-form-item",{attrs:{label:"活动",prop:"activityid"}},[i("el-input",{attrs:{placeholder:"活动"},model:{value:t.dataForm.activityid,callback:function(e){t.$set(t.dataForm,"activityid",e)},expression:"dataForm.activityid"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"用户",prop:"userid"}},[i("el-input",{attrs:{placeholder:"用户"},model:{value:t.dataForm.userid,callback:function(e){t.$set(t.dataForm,"userid",e)},expression:"dataForm.userid"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"奖品",prop:"prizesid"}},[i("el-input",{attrs:{placeholder:"奖品"},model:{value:t.dataForm.prizesid,callback:function(e){t.$set(t.dataForm,"prizesid",e)},expression:"dataForm.prizesid"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"中奖时间",prop:"hittime"}},[i("el-input",{attrs:{placeholder:"中奖时间"},model:{value:t.dataForm.hittime,callback:function(e){t.$set(t.dataForm,"hittime",e)},expression:"dataForm.hittime"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},d=i("VU/8")(a,r,!1,null,null,null);e.default=d.exports}});